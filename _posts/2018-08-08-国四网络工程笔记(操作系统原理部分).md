---
layout: post
title: '国四网络工程笔记(操作系统原理部分)'
excerpt:
date: 2018-08-08
categories: 广电
tags: 网络技术
---

#  前言

![](http://p94dvrayw.bkt.clouddn.com/18-8-14/8828852.jpg)

# 第一章 操作系统基本概念（理解）

## 操作系统概念

### 硬件系统 

实体承载平台

### 软件系统 

保障用户按指定要求协调工作的系统 包括系统应用和软件应用

### 提供服务的有效：

管理计算机资源考虑到系统运行效率和资源的利用率

### 提供服务的合理：

操作系统要公平对待不同用户程序，保证不发生死锁和饥饿现象（死锁先理解为假死 死机，饥饿利用率下降）

### 并发性：

一个处理器可以并发处理多个程序 再多道程序间多路复用，并发性是对物理资源强制行驶多用户共享提高效率。

### 事件查看器

记录资源请求和分配的过程

### 进程管理

就像车过收费站 内存是排列的通道 cpu是收费站 挨个进程进行数据处理，进程管理协调程序间关系，使cpu资源充分利用

进程管理包括

- 进程控制 资源分配单位，主要是创建进程 撤销结束进程 及控制状态
- 进程同步 互斥，多进程对临界资源互斥；同步，用同步机制协调执行顺序
- 进程间通信 协作进程间相互交换数据和消息的手段

### 调度

进程线程调度  ：从进程线程就绪队列中按一定的算法挑选一个把处理器资源分配出来

作业调度：按说明书按后备队列算法装入内存建立相应进程



## 操作系统发展 

1 手工操作 插板连线控制计算机基本功能

2 监控程序 早期批处理 

3 多道批处理 多个程序同时存在于内存，由cpu切换方式使之同时运行

4 分时系统 多用户通过终端和计算机交互 ，共享一个计算机而不互相干扰

5 UNIX操作系统

6 个人计算机操作系统

7 安卓

## 操作系统分类

- 批处理操作系统
  - 工作方式：用户提交作业给操作员，到一定量作业再输入计算机返回结果给用户
  - 特点：适用成熟系统，作业吞吐率高
  - 用户模式：称为**目态**，执行一般指令
  - 特权模式：**管态**，特权指令
  - 系统调用过程：目态管态切换，通过中断或异常处理，由监控程序执行请求，处理器转为管态，处理结束后，恢复调用前现场，回复目态，最后将控制权转回原来的用户程序。
- 分时系统
  - 工作方式：一台主机连接若干终端，每终端给一个用户使用。
  - 特点：目标是即时响应客户，分时优先 批处理在后
- 实时操作系统
  - 在规定时间内及时响应外部时间请求控制所有实时设备和实时任务协调一致工作
  - 硬实时系统：火箭导弹控制
  - 软实时系统：视频传送 信号
  - 定时任务：依照用户启动并按照严格时间间隔重复运行
  - 延时任务：非周期运行 有严格时间界限
  - 主动式任务：依据时间间隔主动运行，多用于监控
  - 从动式任务：依赖外部事件发生，实时任务处理，多用于冗余备份
  - 过载保护：大量实时任务超过系统处理能力 如假死进程无响应
  - 高可靠性：航天之类
- 嵌入式操作系统
  - 嵌入式芯片环境，控制部件统一协调调度指挥控制
  - 优点：高可靠、实时性、占资源少，低成本、易连接
- pc
  - 单用户多任务操作系统：dos 95 98
  - 多用户多任务操作系统：xp 7 linux
- 网络操作系统
  - 为计算机网络配置的操作系统，提供网络应用，web dns dhcp。。。
  - win2003 2008 linux
- 分布式操作系统
  - 特征：统一操作系统，就近访问，集群是分布式系统的一种
  - ![](http://p94dvrayw.bkt.clouddn.com/18-8-15/68892944.jpg)
- 智能卡操作系统
  - 集成电路卡、rfid卡



## 操作系统结构

指操作系统各部分程序的存在方式及相互关系

程序模块方式存在是模块接口结构

以进程方式存在是进程结构

### 整体式结构

总功能分解若干子功能实现每个子功能程序的称模块。（比如网站的很多模块）

### 层次结构

有单向调用。同层模块不能相互调用关系

共同使用放在内层，改变部分放在外层

### 微内核结构

c/s

内核态（管态）和用户态（目态）是操作系统的两种运行级别，intel cpu提供ring0-3三种级别的运行模式，0最高，3最低，0是给操作系统代码、设备驱动程序代码使用的，工作与系统核心态，而3给普通用户使用，工作在用户态。



# 第二章 基本结构及运行机制（理解）

![](http://p94dvrayw.bkt.clouddn.com/18-8-17/35004869.jpg)

### CPU

核心是运算器和控制器。

运算器：实现指令中的算数和逻辑运算，是计算机计算的核心

控制器：控制程序运行流程，包括取指令、维护cup状态，cpu与内存交互

寄存器：暂存数据、地址、指令信息（对程序运行速度影响很大）

高速缓存：cpu和物理内存间，速度快于内存 低于寄存器

![](http://p94dvrayw.bkt.clouddn.com/18-8-17/1738375.jpg)



程序状态字 psw：一个专门的寄存器指示处理器状态，用程序计数器pc这个专门的寄存器来指示下一条执行的命令。

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/87671286.jpg)

### 储存体系

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/40011747.jpg)

界限寄存器：包含上下限寄存器，保护正确运行的基本条件之一

存储键：作业进入主存，分发一唯一存储键号，最后放入状态字psw储存键域中，最后当cpu访问主存时，和psw比较，匹配就允许 否则报警。

**中断**：cpu对系统中或系统外发生的异步事件的相应。（异步事件：无一定时序的随机发生的事件）例如看书时候电话响了（异步事件），把书签放到那一页（中断点），再接电话（响应异步），接完电话看书（返回原程序中断点执行）

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/81824348.jpg)

**异常**：

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/65131541.jpg)



![](http://p94dvrayw.bkt.clouddn.com/18-8-20/36107754.jpg)



![](http://p94dvrayw.bkt.clouddn.com/18-8-20/599969.jpg)

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/45071452.jpg)

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/55414276.jpg)

### 系统调用

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/28261227.jpg)

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/39942128.jpg)

### IO技术

![](http://p94dvrayw.bkt.clouddn.com/18-8-20/35329910.jpg)



![](http://p94dvrayw.bkt.clouddn.com/18-8-20/39205208.jpg)

### 时钟

![](http://p94dvrayw.bkt.clouddn.com/18-8-21/54766939.jpg)







# 第三章 进程线程模型（必须掌握）

![](http://p94dvrayw.bkt.clouddn.com/18-8-21/96979624.jpg)

### 多道程序设计模型

多道程序同时进入内存并运行

作用：提高cpu 、设备资源、内存资源利用率 缩短作业周期，多硬件资源并行工作

特点：

- 顺序性，程序和机器执行的活动严格按顺序执行。
- 封闭性，资源的状态只有程序本身的动作可以改变
- 确定性，执行结果和执行速度无关
- 可再现性，程序在不同时间执行，只要初始条件相同，结果一定相同

![](http://p94dvrayw.bkt.clouddn.com/18-8-21/27369517.jpg)



### 进程

prosess，是计算机程序关于某数据集合上的一次运行活动，是系统进行**资源分配和调度**的基本单位

系统进程：执行操作系统程序，完成操作系统功能

用户进程：运行用户进程

系统进程通常高于用户进程优先级







18年新增 ＵＮＩＸ 类进程操作的应用（ｆｏｒｋ（）、ｅｘｅｃ（）、ｗａｉｔ（）、ｓｉｇｎａｌ（））。 

# 第四章 进程线程同步机制（必须掌握）



# 第五章 内存管理方案（必须掌握）



# 第六章 文件系统的设计、实现及性能提升（理解）



# 第七章 IO设备管理（理解）



# 第八章 死锁的概念及解决方案（必须掌握）